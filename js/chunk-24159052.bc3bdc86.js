(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-24159052"],{"271e":function(t,i,e){},"2d58":function(t,i,e){"use strict";e("5a0e")},5844:function(t,i,e){"use strict";e.r(i);var s=function(){var t=this,i=t.$createElement,e=t._self._c||i;return e("div",{attrs:{id:"mine"}},[e("top-bar",{on:{leftClick:t.toSetting}},[e("i",{staticClass:"iconfont icon-settings",attrs:{slot:"left"},slot:"left"}),e("div",{ref:"title",staticClass:"title",attrs:{slot:"center"},slot:"center"},[e("div",{staticClass:"img-box"},[e("img",{attrs:{src:t.avatarUrl}})]),e("h1",[t._v(t._s(t.nickname))])])]),e("div",{ref:"mineContent",staticClass:"mine-content"},[e("scroll",{attrs:{data:{play:t.playlist},"probe-type":t.probeType,"listen-scroll":t.listenScroll},on:{scroll:t.scroll}},[e("div",{staticClass:"mine-scroll-wrapper"},[e("div",{ref:"mineHome",staticClass:"mine-home"},[e("div",{staticClass:"left"},[e("img",{directives:[{name:"show",rawName:"v-show",value:t.avatarUrl,expression:"avatarUrl"}],attrs:{src:t.avatarUrl}})]),e("div",{staticClass:"right"},[e("div",{staticClass:"id-and-lv"},[e("h1",[t._v(t._s(t.nickname))]),e("div",{staticClass:"icon-vip-box"},[e("i",{staticClass:"iconfont icon-vip"})]),e("span",{directives:[{name:"show",rawName:"v-show",value:t.level,expression:"level"}]},[t._v(t._s("lv."+t.level))])]),e("div",{staticClass:"to-my-home",on:{click:t.toMyHome}},[e("i",{staticClass:"iconfont icon-xiala"})])])]),e("div",{staticClass:"music-application"},t._l(t.musicApplicationList,(function(t,i){return e("music-application-item",{key:i,attrs:{item:t}})})),1),e("div",{staticClass:"i-like-music"},[e("div",{staticClass:"like-cover-img",on:{click:function(i){return t.toRecList(t.likeSongList[0])}}},[e("img",{directives:[{name:"show",rawName:"v-show",value:t.avatarUrl,expression:"avatarUrl"}],attrs:{src:t.likeCoverImgUrl}})]),e("div",{staticClass:"i-like-info",on:{click:function(i){return t.toRecList(t.likeSongList[0])}}},[e("h2",[t._v("我喜欢的音乐")]),e("p",[t._v(t._s(t.likeTrackCount+"首"))])]),e("div",{staticClass:"heartbeat-mode"},[e("i",{staticClass:"iconfont icon-heartbeat"}),e("span",[t._v(" 心动模式")])])]),e("div",{staticClass:"song-list-tab"},[t._v(" 收藏歌单 ")]),e("div",{staticClass:"favorite-song-list"},[e("div",{staticClass:"favorite-song-info"},[e("div",{staticClass:"left"},[t._v(" 收藏歌单 "),e("span",{directives:[{name:"show",rawName:"v-show",value:t.favoriteSongList.length,expression:"favoriteSongList.length"}]},[t._v("("+t._s(t.subPlaylistCount+"个")+")")])]),e("div",{staticClass:"right"},[e("i",{staticClass:"iconfont icon-more"})])]),t.favoriteSongList.length?t._e():e("div",{staticClass:"loading"},[e("van-loading",{attrs:{size:"24px",color:"#323233","text-color":"#323233"}},[t._v("加载中...")])],1),t.favoriteSongList.length?e("div",{staticClass:"favorite-song-content"},t._l(t.favoriteSongList,(function(i,s){return e("favorite-song-item",{key:s,attrs:{item:i},nativeOn:{click:function(e){return t.toRecList(i)}}})})),1):t._e()])])])],1)],1)},n=[],a=(e("e7e5"),e("d399")),o=(e("159b"),e("fb6a"),e("b043")),l=function(){var t=this,i=t.$createElement,e=t._self._c||i;return e("div",{attrs:{id:"music-application-item"}},[e("div",{staticClass:"icon-wrapper"},[e("i",{staticClass:"iconfont",class:t.icon})]),e("h2",[t._v(t._s(t.title))])])},r=[],c={name:"MusicApplicationItem",props:["item"],computed:{icon:function(){return this.item.icon},title:function(){return this.item.title}}},u=c,v=(e("2d58"),e("2877")),f=Object(v["a"])(u,l,r,!1,null,"0a143f5b",null),m=f.exports,d=function(){var t=this,i=t.$createElement,e=t._self._c||i;return e("div",{attrs:{id:"favorite-song-item"}},[e("img",{attrs:{src:t.imgUrl}}),e("div",{staticClass:"info-box"},[e("h1",[t._v(t._s(t.songListName))]),e("p",[t._v(t._s(t.trackCount+"首，by "+t.creatorNickname))])])])},p=[],h=(e("b0c0"),{name:"FavoriteSongItem",props:["item"],computed:{imgUrl:function(){return this.item.coverImgUrl},trackCount:function(){return this.item.trackCount},songListName:function(){return this.item.name},creatorNickname:function(){return this.item.creator.nickname}}}),g=h,b=(e("de7c"),Object(v["a"])(g,d,p,!1,null,"7b665528",null)),C=b.exports,y=e("b3df"),k={name:"Mine",components:{TopBar:o["a"],MusicApplicationItem:m,FavoriteSongItem:C,Scroll:y["a"]},data:function(){return{avatarUrl:"",nickname:"",backgroundUrl:"",userId:"",level:"",musicApplicationList:[{icon:"icon-bendi",title:"本地/下载"},{icon:"icon-yunpan",title:"云盘"},{icon:"icon-yigou",title:"已购"},{icon:"icon-zuijinbofang",title:"最近播放"},{icon:"icon-haoyou",title:"我的好友"},{icon:"icon-shoucang",title:"收藏和赞"},{icon:"icon-paobu",title:"跑步FM"},{icon:"icon-zhumian",title:"助眠解压"}],likeCoverImgUrl:"",likeTrackCount:"",subPlaylistCount:"",likeSongList:[],createSongList:[],favoriteSongList:[],playlist:[],probeType:3,listenScroll:!0,scrollY:0}},methods:{userAccountGet:function(){var t=this;this.$api.mine.userAccountGet().then((function(i){t.avatarUrl=i.data.profile.avatarUrl,t.nickname=i.data.profile.nickname,t.backgroundUrl=i.data.profile.backgroundUrl,t.userId=i.data.profile.userId,t.userPlaylistGet()}))},userLevelGet:function(){var t=this;this.$api.mine.userLevelGet().then((function(i){t.level=i.data.data.level}))},toMyHome:function(){Object(a["a"])("emmmm, 还没开发好...")},toRecList:function(t){this.$router.push({name:"rec-list",params:{id:t.id,imgUrl:t.picUrl}})},userSubcountGet:function(){var t=this;this.$api.mine.userSubcountGet().then((function(i){t.subPlaylistCount=i.data.subPlaylistCount}))},userPlaylistGet:function(){var t=this;this.$api.mine.userPlaylistGet({uid:this.userId}).then((function(i){i.data.playlist.forEach((function(t){t.picUrl=t.coverImgUrl})),t.playlist=i.data.playlist;var e=i.data.playlist.length-1;t.likeSongList=i.data.playlist.slice(0,1),t.likeCoverImgUrl=t.likeSongList[0].coverImgUrl,t.likeTrackCount=t.likeSongList[0].trackCount,t.createSongList=i.data.playlist.slice(1,2),t.favoriteSongList=i.data.playlist.slice(2,e)}))},scroll:function(t){this.scrollY=t.y,this.$refs.mineHome.style.opacity=(this.scrollY+50)/50;var i=document.querySelector(".top-bar");this.scrollY>=-5?i.style.backgroundColor="#fafafa":this.scrollY<-5?i.style.backgroundColor="transparent":-this.scrollY>=50&&(i.style.backgroundColor="#fff"),this.scrollY<0&&-this.scrollY>=50?(this.$refs.mineContent.style.overflow="hidden",this.$refs.title.style.opacity="1",this.$refs.title.style.transform="translateY(0)"):(this.$refs.mineContent.style.overflow="visible",this.$refs.title.style.opacity="0",this.$refs.title.style.transform="translateY(-25%)")},toSetting:function(){this.$bus.$emit("toSetting")}},created:function(){this.userAccountGet(),this.userLevelGet(),this.userSubcountGet()}},_=k,S=(e("9c2b"),Object(v["a"])(_,s,n,!1,null,"217b8ffd",null));i["default"]=S.exports},"5a0e":function(t,i,e){},"9c2b":function(t,i,e){"use strict";e("271e")},aebe:function(t,i,e){},de7c:function(t,i,e){"use strict";e("aebe")},fb6a:function(t,i,e){"use strict";var s=e("23e7"),n=e("861d"),a=e("e8b5"),o=e("23cb"),l=e("50c4"),r=e("fc6a"),c=e("8418"),u=e("b622"),v=e("1dde"),f=v("slice"),m=u("species"),d=[].slice,p=Math.max;s({target:"Array",proto:!0,forced:!f},{slice:function(t,i){var e,s,u,v=r(this),f=l(v.length),h=o(t,f),g=o(void 0===i?f:i,f);if(a(v)&&(e=v.constructor,"function"!=typeof e||e!==Array&&!a(e.prototype)?n(e)&&(e=e[m],null===e&&(e=void 0)):e=void 0,e===Array||void 0===e))return d.call(v,h,g);for(s=new(void 0===e?Array:e)(p(g-h,0)),u=0;h<g;h++,u++)h in v&&c(s,u,v[h]);return s.length=u,s}})}}]);