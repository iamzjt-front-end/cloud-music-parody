(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-1f974dd8"],{"03f3":function(t,e,a){"use strict";a("8061")},"25e8":function(t,e,a){"use strict";a.r(e);var s=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"day-recommend"},[a("top-bar",{on:{leftClick:t.back}},[a("i",{staticClass:"iconfont icon-back",attrs:{slot:"left"},slot:"left"}),a("h1",{attrs:{slot:"center"},slot:"center"},[t._v("每日推荐")]),a("i",{staticClass:"iconfont icon-more",attrs:{slot:"right"},slot:"right"})]),a("div",{staticClass:"main-img",style:{backgroundImage:"url("+t.mainImgUrl+")"}},[a("p",{staticClass:"calendar"},[a("i",{staticClass:"day"},[t._v(t._s(t.day))]),a("i",{staticClass:"month"},[t._v(" / "+t._s(t.month))])]),a("p",{staticClass:"fortune"},[t._v(" 今日运势：吉 ")])]),a("div",{staticClass:"play-all"},[a("i",{staticClass:"iconfont icon-play-all",attrs:{slot:"left"},slot:"left"}),a("span",{staticClass:"play-text"},[t._v("播放全部")]),a("p",{staticClass:"play-length"},[t._v(t._s("("+t.perDayRecList.length+")"))])]),a("div",{directives:[{name:"show",rawName:"v-show",value:t.perDayRecList.length,expression:"perDayRecList.length"}],ref:"recommendSongBox",staticClass:"recommend-song-box"},[a("scroll",{ref:"scroll",attrs:{data:{perDayRec:t.perDayRecList}}},[a("div",[a("div",{staticClass:"recommend-song"},t._l(t.perDayRecList,(function(e,s){return a("song",{key:s,nativeOn:{click:function(a){return t.toPlayer(e,s)}}},[a("img",{attrs:{slot:"front-cover",src:e.al.picUrl},on:{load:t.load},slot:"front-cover"}),a("h1",{attrs:{slot:"song-name"},slot:"song-name"},[t._v(t._s(e.name))]),a("p",{attrs:{slot:"song-author"},slot:"song-author"},[t._v(t._s(e.ar.singers)+" - "+t._s(e.al.name))]),a("i",{staticClass:"iconfont icon-more",attrs:{slot:"operate"},slot:"operate"})])})),1)])])],1),a("div",{directives:[{name:"show",rawName:"v-show",value:!t.perDayRecList.length,expression:"!perDayRecList.length"}],staticClass:"loading"},[a("van-loading",{attrs:{size:"24px",color:"#323233","text-color":"#323233"}},[t._v("加载中...")])],1)],1)},n=[],o=a("5530"),i=(a("159b"),a("b0c0"),a("b043")),c=a("2a09"),r=a("2f62"),l=a("b3df"),d={name:"DayRecommend",components:{TopBar:i["a"],Song:c["a"],Scroll:l["a"]},data:function(){return{perDayRecList:[],mainImgUrl:"",day:"",month:"",indexList:[]}},computed:Object(o["a"])({},Object(r["e"])(["fullScreen"])),methods:Object(o["a"])(Object(o["a"])({},Object(r["b"])(["selectPlay"])),{},{perDayRecGet:function(){var t=this;this.$api.found.perDayRecQry().then((function(e){var a=0;e.data.data.dailySongs.forEach((function(s){if(s.ar.forEach((function(t,e){s.ar.singers=0==e?t.name:s.ar.singers+"/"+t.name})),a++,a==e.data.data.dailySongs.length){t.perDayRecList=e.data.data.dailySongs;var n=Math.floor(t.perDayRecList.length*Math.random());t.mainImgUrl=e.data.data.dailySongs[n].al.picUrl}}))}))},load:function(){var t=this;this.checkloaded||(this.checkloaded=!0,this.$nextTick((function(){var e=document.querySelector(".recommend-song"),a=document.querySelector("#song").scrollHeight;e.style.height=a*t.perDayRecList.length+"px",t.$refs.scroll.refresh()})))},dayMonthGet:function(){var t=new Date,e=t.getDate();this.day=e<10?"0"+e:e;var a=t.getMonth()+1;this.month=a<10?"0"+a:a},back:function(){this.$router.go(-1)},toPlayer:function(t,e){this.selectPlay({list:this.perDayRecList,index:e})},songListHupt:function(){var t=this,e=document.querySelector("#player");"none"==e.style.display||this.fullScreen||this.$nextTick((function(){t.$refs.recommendSongBox.style.height="calc(100vh - 14.2rem - 3.4rem - 2.8rem)",t.$bus.$emit("BScrollRefresh")}))}}),created:function(){this.perDayRecGet(),this.dayMonthGet()},mounted:function(){this.songListHupt()},watch:{fullScreen:function(t,e){t!=e&&0==t&&this.songListHupt()}}},f=d,h=(a("03f3"),a("2877")),u=Object(h["a"])(f,s,n,!1,null,"2c7a13c2",null);e["default"]=u.exports},"2a09":function(t,e,a){"use strict";var s=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{attrs:{id:"song"}},[a("div",{staticClass:"front-cover"},[t._t("front-cover")],2),a("div",{staticClass:"song-info"},[a("div",{staticClass:"song-name"},[t._t("song-name")],2),a("div",{staticClass:"song-author"},[t._t("song-author")],2)]),a("div",{staticClass:"operate"},[t._t("operate")],2)])},n=[],o={name:"Song"},i=o,c=(a("7f4f"),a("2877")),r=Object(c["a"])(i,s,n,!1,null,"f206d116",null);e["a"]=r.exports},"7f4f":function(t,e,a){"use strict";a("dee9")},8061:function(t,e,a){},dee9:function(t,e,a){}}]);